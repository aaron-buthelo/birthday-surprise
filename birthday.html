<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday Pragati! ğŸ‰</title>
  <style>
    :root{
      /* Brand palette */
      --pink-1:#ff9aa2; --pink-2:#fecfef; --magenta:#e91e63; --indigo:#6c5ce7;
      --lav:#a29bfe; --ink:#1f1a24; --card:#ffffffcc; --card-edge:#ffffff80;
      --shadow:rgba(0,0,0,.2);
    }

    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(255,255,255,.18), transparent 60%),
        linear-gradient(135deg, var(--pink-1) 0%, var(--pink-2) 100%);
      color:var(--ink);
      line-height:1.6; padding: clamp(16px, 4vw, 24px); padding-bottom: calc(clamp(16px, 4vw, 24px) + env(safe-area-inset-bottom)); overflow-x:hidden;
    }

    .container{ width:min(720px, 92vw); margin:0 auto; text-align:center; }

    /* Card */
    .birthday-card{
      position:relative;
      background:var(--card);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border:1px solid var(--card-edge);
      border-radius:26px; padding:32px 24px; margin: 10px auto 28px;
      box-shadow: 0 24px 50px var(--shadow);
    }

    h1{
      font-weight:800; letter-spacing:.3px; color:var(--magenta);
      font-size:clamp(1.8rem, 2.2vw + 1.2rem, 2.8rem);
    }

    .name{
      font-size:clamp(2.2rem, 3vw + 1.2rem, 3.2rem);
      color:var(--magenta); font-weight:900; margin:8px 0 4px;
      text-shadow: 0 6px 18px rgba(233,30,99,.25);
      animation: floatTitle 3s ease-in-out infinite;
    }

    @keyframes floatTitle{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }

    .hearts{ font-size:2rem; margin: 14px 0 6px; }
    .heart{ display:inline-block; margin:0 6px; animation:heartbeat 1.5s ease-in-out infinite; }
    .heart:nth-child(2){ animation-delay:.3s }
    .heart:nth-child(3){ animation-delay:.6s }

    @keyframes heartbeat{ 0%{transform:scale(1)} 25%{transform:scale(1.18)} 40%{transform:scale(1)} 60%{transform:scale(1.12)} 100%{transform:scale(1)} }

    .intro-line{ color:var(--magenta); font-weight:600; margin:10px 0 14px; font-style:italic; }

    .personal-message{
      text-align:left; color:#2a2a2a; background:#ffffffd9;
      border:1px solid #ffffffb3; border-radius:16px; padding:18px 16px; margin:16px 0 6px;
      box-shadow: 0 10px 24px rgba(0,0,0,.06);
    }

    /* Unlock section */
    .unlock-section{ margin-top:22px; }
    .unlock-title{ color:var(--magenta); font-size:1.15rem; font-weight:800; margin-bottom:14px; }

    .unlock-grid{ display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:14px; }

    .unlock-btn{
      position:relative; overflow:hidden; cursor:pointer; border:none;
      border-radius:16px; padding:18px 12px; color:white;
      background:linear-gradient(45deg, var(--indigo), var(--lav));
      box-shadow: 0 8px 18px rgba(108,92,231,.35);
      transition: transform .15s ease, box-shadow .25s ease, opacity .25s ease;
      outline:none;
    }
    .unlock-btn:active{ transform:scale(.96) }
    .unlock-btn:hover{ box-shadow: 0 10px 26px rgba(108,92,231,.48); }

    .unlock-btn.locked{ background:linear-gradient(45deg, #8e9eab, #cfd9df); color:#203040; }
    .unlock-btn.unlocked{ animation: glow 2s infinite alternate; }

    @keyframes glow{ from{ box-shadow:0 8px 18px rgba(108,92,231,.35) } to{ box-shadow:0 12px 36px rgba(108,92,231,.65) } }

    .btn-emoji{ font-size:1.7rem; line-height:1; display:block; margin-bottom:6px; }
    .btn-text{ font-size:.92rem; font-weight:800; letter-spacing:.3px; }
    .lock-icon{ position:absolute; top:8px; right:8px; font-size:1rem; opacity:.9 }
    .unlock-btn.unlocked .lock-icon{ display:none }

    .unlock-btn:focus-visible{ outline:3px solid #fff; outline-offset:3px }

    /* Progress bar for unlocked count */
    .progress{
      margin:18px auto 0; width:min(380px, 84%); height:10px; border-radius:999px;
      background:#ffffff88; overflow:hidden; border:1px solid #ffffffb3;
    }
    .progress > span{ display:block; height:100%; width:0%; background:linear-gradient(90deg, var(--indigo), var(--lav)); transition:width .4s ease; }
    .progress-note{ font-size:.85rem; opacity:.75; margin-top:8px; }

    /* Balloons (parallax) */
    .balloons{ position:fixed; inset:0; pointer-events:none; z-index:-1; }
    .balloon{ position:absolute; font-size:2rem; filter:drop-shadow(0 8px 8px rgba(0,0,0,.12)); animation: float 10s ease-in-out infinite; }
    .balloon:nth-child(1){ left:8%; animation-delay:0s }
    .balloon:nth-child(2){ left:78%; animation-delay:1.3s }
    .balloon:nth-child(3){ left:92%; animation-delay:2.1s }

    @keyframes float{ 0%,100%{ transform: translateY(105vh) rotate(0) } 50%{ transform: translateY(-40px) rotate(180deg) } }

    /* Confetti falls */
    @keyframes fall{ to{ transform: translateY(100vh) rotate(360deg); opacity:0 } }
    @keyframes blastOut{ 0%{ transform:scale(0) rotate(0deg); opacity:1 } 50%{ transform:scale(1.5) rotate(180deg); opacity:1 } 100%{ transform:scale(.5) rotate(360deg) translateY(100px); opacity:0 } }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .name, .heart, .unlock-btn.unlocked, .balloon{ animation:none !important }
    }
      /* Mobile tweaks */
    @media (max-width: 420px){
      .container{ width:94vw }
      .birthday-card{ padding:22px 16px }
      .unlock-grid{ grid-template-columns: 1fr }
      .btn-emoji{ font-size:1.9rem }
      .btn-text{ font-size:1rem }
      .personal-message{ padding:16px 12px; font-size:1rem }
      .balloon{ font-size:1.6rem }
    }
  </style>
</head>
<body>
  <!-- Floating balloons background -->
  <div class="balloons" aria-hidden="true">
    <div class="balloon">ğŸˆ</div>
    <div class="balloon">ğŸˆ</div>
    <div class="balloon">ğŸˆ</div>
  </div>

  <div class="container">
    <div class="birthday-card" role="region" aria-labelledby="title name">
      <h1 id="title">Happy Birthday</h1>
      <div id="name" class="name">Pragati!</div>

      <div class="hearts" aria-hidden="true">
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’•</span>
        <span class="heart">ğŸ’–</span>
      </div>

      <div class="intro-line">ğŸŒ¸ To the girl who makes my world brighter every single dayâ€¦</div>

      <div class="personal-message">
        ğŸ’– Today isn't just any day â€” it's the day the world became brighter because you were born.<br><br>
        Pragati, you fill my life with laughter, warmth, and endless love. You make ordinary moments feel magical and every challenge feel lighter just by being there.<br><br>
        Happy Birthday, Pragati. Here's to more late-night laughs, spontaneous adventures, and quiet moments that mean everything.<br><br>
        I love you â€” endlessly, deeply, and always. ğŸ’«
      </div>

      <div class="unlock-section">
        <div class="unlock-title">ğŸ—ï¸ Unlock More Surprises</div>
        <div class="unlock-grid">
          <button class="unlock-btn locked" id="gallery-btn" onclick="unlockSurprise('gallery')" aria-label="Open our memories gallery">
            <div class="lock-icon">ğŸ”’</div>
            <span class="btn-emoji">ğŸ“¸</span>
            <span class="btn-text">Our Memories</span>
          </button>

          <button class="unlock-btn locked" id="letter-btn" onclick="unlockSurprise('letter')" aria-label="Open your love letter">
            <div class="lock-icon">ğŸ”’</div>
            <span class="btn-emoji">ğŸ’Œ</span>
            <span class="btn-text">Love Letter</span>
          </button>

          <button class="unlock-btn locked" id="reasons-btn" onclick="unlockSurprise('reasons')" aria-label="Open the reasons I love you">
            <div class="lock-icon">ğŸ”’</div>
            <span class="btn-emoji">ğŸ’•</span>
            <span class="btn-text">Why I Love You</span>
          </button>

          <button class="unlock-btn locked" id="dreams-btn" onclick="unlockSurprise('dreams')" aria-label="Open our future plans">
            <div class="lock-icon">ğŸ”’</div>
            <span class="btn-emoji">âœ¨</span>
            <span class="btn-text">Our Future</span>
          </button>
        </div>

        <div class="progress" aria-hidden="true"><span id="progress-bar"></span></div>
        <div class="progress-note" id="progress-note">0/4 surprises unlocked</div>
      </div>
    </div>
  </div>

  <script>
    const unlockedSections = new Set(JSON.parse(localStorage.getItem('unlockedSections') || '[]'));
    const isSmall = window.matchMedia('(max-width: 420px)').matches; 
    const btnIds = ['gallery','letter','reasons','dreams'];

    function syncButtons(){
      let unlockedCount = 0;
      btnIds.forEach(section => {
        const btn = document.getElementById(section + '-btn');
        if(!btn) return;
        if (unlockedSections.has(section)){
          btn.classList.remove('locked');
          btn.classList.add('unlocked');
          unlockedCount++;
        }
      });
      const pct = (unlockedCount / btnIds.length) * 100;
      document.getElementById('progress-bar').style.width = pct + '%';
      document.getElementById('progress-note').textContent = `${unlockedCount}/${btnIds.length} surprises unlocked`;
    }

    window.addEventListener('load', () => {
      syncButtons();

      // First visit celebratory blast
      if (!localStorage.getItem('visitedBirthday')) {
        localStorage.setItem('visitedBirthday', 'true');
        setTimeout(() => { bigBlast(isSmall?80:120, isSmall?14:18); }, 200);
      } else {
        // Gentle confetti on subsequent loads
        setTimeout(() => { drizzle(isSmall?10:16, isSmall?100:120); }, 900);
      }
    });

    function unlockSurprise(section){
      const btn = document.getElementById(section + '-btn');
      if (!btn) return;

      if (unlockedSections.has(section)){
        window.location.href = section + '.html';
        return;
      }

      btn.classList.remove('locked');
      btn.classList.add('unlocked');
      unlockedSections.add(section);
      localStorage.setItem('unlockedSections', JSON.stringify([...unlockedSections]));
      syncButtons();

      // Mini-burst feedback
      confettiBurst({ count: 24, originEl: btn });
      setTimeout(() => { window.location.href = section + '.html'; }, 550);
    }

    /* ================= Confetti Engine ================ */
    const EMOJIS = ['ğŸ‰','ğŸŠ','âœ¨','ğŸŒŸ','ğŸ’«','ğŸˆ','ğŸ‚','ğŸ’–','ğŸ’•','ğŸ¥³','ğŸ'];

    function createConfetti({ x, y, size = 24, life = 3000, anim = 'fall' }){
      const el = document.createElement('div');
      el.textContent = EMOJIS[Math.floor(Math.random()*EMOJIS.length)];
      el.style.position = 'fixed';
      el.style.left = x + 'px';
      el.style.top = y + 'px';
      el.style.fontSize = size + 'px';
      el.style.pointerEvents = 'none';
      el.style.zIndex = 9999;
      el.style.animation = `${anim} ${life/1000}s ease-out forwards`;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), life);
    }

    function drizzle(count = 20, life = 3000){
      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      for(let i=0;i<count;i++){
        setTimeout(() => {
          createConfetti({ x: Math.random()*vw, y: -10, size: 22 + Math.random()*16, life: life + Math.random()*1200, anim: 'fall' });
        }, i * 120);
      }
    }

    function bigBlast(count = 100, waves = 12){
      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
      for(let i=0;i<count;i++){
        setTimeout(() => {
          createConfetti({ x: Math.random()*vw, y: Math.random()*vh, size: 18 + Math.random()*24, life: 2800 + Math.random()*1200, anim: 'blastOut' });
        }, (i % waves) * 30 + Math.random()*220);
      }
    }

    function confettiBurst({ count = 24, originEl }){
      const rect = originEl.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      for(let i=0;i<count;i++){
        setTimeout(() => createConfetti({ x: cx + (Math.random()*80-40), y: cy + (Math.random()*20-10), size: 18 + Math.random()*18, life: 1800 + Math.random()*800, anim: 'blastOut' }), i*20);
      }
    }
  </script>
</body>
</html>
